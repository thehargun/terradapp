{"ast":null,"code":"export class WebExtensionUserDenied extends Error {\n  constructor() {\n    super('User Denied');\n\n    this.toString = () => {\n      return `[${this.name}]`;\n    };\n\n    this.toJSON = () => {\n      return {\n        name: this.name\n      };\n    };\n\n    this.name = 'WebExtensionUserDenied';\n  }\n\n}\nexport class WebExtensionCreateTxFailed extends Error {\n  constructor(message) {\n    super(message);\n\n    this.toString = () => {\n      return `[${this.name} message=\"${this.message}\"]`;\n    };\n\n    this.toJSON = () => {\n      return {\n        name: this.name,\n        message: this.message\n      };\n    };\n\n    this.name = 'WebExtensionCreateTxFailed';\n  }\n\n}\nexport class WebExtensionTxFailed extends Error {\n  constructor(txhash, message, raw_message) {\n    super(message);\n    this.txhash = txhash;\n    this.raw_message = raw_message;\n\n    this.toString = () => {\n      return `[${this.name} txhash=\"${this.txhash}\" message=\"${this.message}\"]\\n${JSON.stringify(this.raw_message, null, 2)}`;\n    };\n\n    this.toJSON = () => {\n      return {\n        name: this.name,\n        txhash: this.txhash,\n        message: this.message,\n        raw_message: this.raw_message\n      };\n    };\n\n    this.name = 'WebExtensionTxFailed';\n  }\n\n}\nexport class WebExtensionTxUnspecifiedError extends Error {\n  constructor(message) {\n    super(message);\n\n    this.toString = () => {\n      return `[${this.name} message=\"${this.message}\"]`;\n    };\n\n    this.toJSON = () => {\n      return {\n        name: this.name,\n        message: this.message\n      };\n    };\n\n    this.name = 'WebExtensionTxUnspecifiedError';\n  }\n\n}\nexport class WebExtensionLedgerError extends Error {\n  constructor(code, message) {\n    super(message);\n    this.code = code;\n\n    this.toString = () => {\n      return `[${this.name} code=\"${this.code}\" message=\"${this.message}\"]`;\n    };\n\n    this.toJSON = () => {\n      return {\n        name: this.name,\n        code: this.code,\n        message: this.message\n      };\n    };\n\n    this.name = 'WebExtensionLedgerError';\n  }\n\n} // ---------------------------------------------\n// functions\n// ---------------------------------------------\n\nexport function isWebExtensionError(error) {\n  return error instanceof WebExtensionUserDenied || error instanceof WebExtensionCreateTxFailed || error instanceof WebExtensionTxFailed || error instanceof WebExtensionLedgerError || error instanceof WebExtensionTxUnspecifiedError;\n}\nexport function createTxErrorFromJson(json) {\n  switch (json.name) {\n    case 'WebExtensionUserDenied':\n      return new WebExtensionUserDenied();\n\n    case 'WebExtensionCreateTxFailed':\n      return new WebExtensionCreateTxFailed(json.message);\n\n    case 'WebExtensionLedgerError':\n      return new WebExtensionLedgerError(json.code, json.message);\n\n    case 'WebExtensionTxFailed':\n      return new WebExtensionTxFailed(json.txhash, json.message, json.raw_message);\n\n    default:\n      return new WebExtensionTxUnspecifiedError('message' in json ? json.message : String(json));\n  }\n}","map":{"version":3,"sources":["../../../src/@terra-dev/web-extension-interface/errors.ts"],"names":[],"mappings":"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","sourcesContent":["export class WebExtensionUserDenied extends Error {\n  constructor() {\n    super('User Denied');\n    this.name = 'WebExtensionUserDenied';\n  }\n\n  toString = () => {\n    return `[${this.name}]`;\n  };\n\n  toJSON = () => {\n    return {\n      name: this.name,\n    };\n  };\n}\n\nexport class WebExtensionCreateTxFailed extends Error {\n  constructor(message: string) {\n    super(message);\n    this.name = 'WebExtensionCreateTxFailed';\n  }\n\n  toString = () => {\n    return `[${this.name} message=\"${this.message}\"]`;\n  };\n\n  toJSON = () => {\n    return {\n      name: this.name,\n      message: this.message,\n    };\n  };\n}\n\nexport class WebExtensionTxFailed extends Error {\n  constructor(\n    public readonly txhash: string | undefined,\n    message: string,\n    public readonly raw_message: any,\n  ) {\n    super(message);\n    this.name = 'WebExtensionTxFailed';\n  }\n\n  toString = () => {\n    return `[${this.name} txhash=\"${this.txhash}\" message=\"${\n      this.message\n    }\"]\\n${JSON.stringify(this.raw_message, null, 2)}`;\n  };\n\n  toJSON = () => {\n    return {\n      name: this.name,\n      txhash: this.txhash,\n      message: this.message,\n      raw_message: this.raw_message,\n    };\n  };\n}\n\nexport class WebExtensionTxUnspecifiedError extends Error {\n  constructor(message: string) {\n    super(message);\n    this.name = 'WebExtensionTxUnspecifiedError';\n  }\n\n  toString = () => {\n    return `[${this.name} message=\"${this.message}\"]`;\n  };\n\n  toJSON = () => {\n    return {\n      name: this.name,\n      message: this.message,\n    };\n  };\n}\n\nexport class WebExtensionLedgerError extends Error {\n  constructor(public readonly code: number, message: string) {\n    super(message);\n    this.name = 'WebExtensionLedgerError';\n  }\n\n  toString = () => {\n    return `[${this.name} code=\"${this.code}\" message=\"${this.message}\"]`;\n  };\n\n  toJSON = () => {\n    return {\n      name: this.name,\n      code: this.code,\n      message: this.message,\n    };\n  };\n}\n\n// ---------------------------------------------\n// functions\n// ---------------------------------------------\nexport function isWebExtensionError(error: unknown): boolean {\n  return (\n    error instanceof WebExtensionUserDenied ||\n    error instanceof WebExtensionCreateTxFailed ||\n    error instanceof WebExtensionTxFailed ||\n    error instanceof WebExtensionLedgerError ||\n    error instanceof WebExtensionTxUnspecifiedError\n  );\n}\n\nexport function createTxErrorFromJson(\n  json: any,\n):\n  | WebExtensionUserDenied\n  | WebExtensionCreateTxFailed\n  | WebExtensionTxFailed\n  | WebExtensionLedgerError\n  | WebExtensionTxUnspecifiedError {\n  switch (json.name) {\n    case 'WebExtensionUserDenied':\n      return new WebExtensionUserDenied();\n    case 'WebExtensionCreateTxFailed':\n      return new WebExtensionCreateTxFailed(json.message);\n    case 'WebExtensionLedgerError':\n      return new WebExtensionLedgerError(json.code, json.message);\n    case 'WebExtensionTxFailed':\n      return new WebExtensionTxFailed(\n        json.txhash,\n        json.message,\n        json.raw_message,\n      );\n    default:\n      return new WebExtensionTxUnspecifiedError(\n        'message' in json ? json.message : String(json),\n      );\n  }\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}