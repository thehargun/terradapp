{"ast":null,"code":"import { clearStoredSession, getStoredSession, storeSession } from './storage';\nexport function connectIfSessionExists() {\n  const storedSession = getStoredSession();\n\n  if (!!storedSession) {\n    return connect(storedSession);\n  }\n\n  return null;\n}\nexport function connect(options) {\n  storeSession(options);\n\n  function disconnect() {\n    clearStoredSession();\n  }\n\n  return { ...options,\n    disconnect\n  };\n}","map":{"version":3,"sources":["../../../../../src/@terra-money/wallet-provider/modules/readonly-wallet/connect.ts"],"names":[],"mappings":"AAAA,SAAS,kBAAT,EAA6B,gBAA7B,EAA+C,YAA/C,QAAmE,WAAnE;AASA,OAAM,SAAU,sBAAV,GAAgC;AACpC,QAAM,aAAa,GAAG,gBAAgB,EAAtC;;AAEA,MAAI,CAAC,CAAC,aAAN,EAAqB;AACnB,WAAO,OAAO,CAAC,aAAD,CAAd;AACD;;AAED,SAAO,IAAP;AACD;AAED,OAAM,SAAU,OAAV,CACJ,OADI,EAC0B;AAE9B,EAAA,YAAY,CAAC,OAAD,CAAZ;;AAEA,WAAS,UAAT,GAAmB;AACjB,IAAA,kBAAkB;AACnB;;AAED,SAAO,EACL,GAAG,OADE;AAEL,IAAA;AAFK,GAAP;AAID","sourcesContent":["import { clearStoredSession, getStoredSession, storeSession } from './storage';\nimport { ReadonlyWalletSession } from './types';\n\nexport interface ReadonlyWalletController extends ReadonlyWalletSession {\n  disconnect: () => void;\n}\n\nexport interface ReadonlyWalletOptions extends ReadonlyWalletSession {}\n\nexport function connectIfSessionExists(): ReadonlyWalletController | null {\n  const storedSession = getStoredSession();\n\n  if (!!storedSession) {\n    return connect(storedSession);\n  }\n\n  return null;\n}\n\nexport function connect(\n  options: ReadonlyWalletOptions,\n): ReadonlyWalletController {\n  storeSession(options);\n\n  function disconnect() {\n    clearStoredSession();\n  }\n\n  return {\n    ...options,\n    disconnect,\n  };\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}