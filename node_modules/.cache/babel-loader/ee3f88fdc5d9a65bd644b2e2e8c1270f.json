{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Proposal = void 0;\n\nvar Coins_1 = require(\"../Coins\");\n\nvar numeric_1 = require(\"../numeric\");\n\nvar json_1 = require(\"../../util/json\");\n\nvar proposals_1 = require(\"../distribution/proposals\");\n\nvar proposals_2 = require(\"../params/proposals\");\n\nvar proposals_3 = require(\"./proposals\");\n\nvar proposals_4 = require(\"../upgrade/proposals\");\n\nvar gov_1 = require(\"@terra-money/terra.proto/cosmos/gov/v1beta1/gov\");\n\nvar Long = __importStar(require(\"long\"));\n/**\n * Stores information pertaining to a submitted proposal, such as its status and time of\n * the voting period\n */\n\n\nvar Proposal =\n/** @class */\nfunction (_super) {\n  __extends(Proposal, _super);\n  /**\n   *\n   * @param id proposal's ID\n   * @param content content of the proposal\n   * @param status proposal's status\n   * @param final_tally_result tally result\n   * @param submit_time time proposal was submitted and deposit period started\n   * @param deposit_end_time time deposit period will end\n   * @param total_deposit amount of coins deposited by all users\n   * @param voting_start_time time voting period will start\n   * @param voting_end_time time voting period will end\n   */\n\n\n  function Proposal(id, content, status, final_tally_result, submit_time, deposit_end_time, total_deposit, voting_start_time, voting_end_time) {\n    var _this = _super.call(this) || this;\n\n    _this.id = id;\n    _this.content = content;\n    _this.status = status;\n    _this.final_tally_result = final_tally_result;\n    _this.submit_time = submit_time;\n    _this.deposit_end_time = deposit_end_time;\n    _this.total_deposit = total_deposit;\n    _this.voting_start_time = voting_start_time;\n    _this.voting_end_time = voting_end_time;\n    return _this;\n  }\n\n  Proposal.fromAmino = function (data) {\n    var id = data.id,\n        content = data.content,\n        status = data.status,\n        final_tally_result = data.final_tally_result,\n        submit_time = data.submit_time,\n        deposit_end_time = data.deposit_end_time,\n        total_deposit = data.total_deposit,\n        voting_start_time = data.voting_start_time,\n        voting_end_time = data.voting_end_time;\n    return new Proposal(Number.parseInt(id), Proposal.Content.fromAmino(content), status, {\n      yes: new numeric_1.Int(final_tally_result.yes || 0),\n      no: new numeric_1.Int(final_tally_result.no || 0),\n      abstain: new numeric_1.Int(final_tally_result.abstain || 0),\n      no_with_veto: new numeric_1.Int(final_tally_result.no_with_veto || 0)\n    }, new Date(submit_time), new Date(deposit_end_time), Coins_1.Coins.fromAmino(total_deposit), new Date(voting_start_time), new Date(voting_end_time));\n  };\n\n  Proposal.prototype.toAmino = function () {\n    var _a = this,\n        status = _a.status,\n        final_tally_result = _a.final_tally_result;\n\n    return {\n      id: this.id.toFixed(),\n      content: this.content.toAmino(),\n      status: status,\n      final_tally_result: {\n        yes: final_tally_result.yes.toFixed(),\n        no: final_tally_result.no.toFixed(),\n        abstain: final_tally_result.abstain.toFixed(),\n        no_with_veto: final_tally_result.no_with_veto.toFixed()\n      },\n      submit_time: this.submit_time.toISOString(),\n      deposit_end_time: this.deposit_end_time.toISOString(),\n      total_deposit: this.total_deposit.toAmino(),\n      voting_start_time: this.voting_start_time.toISOString(),\n      voting_end_time: this.voting_end_time.toISOString()\n    };\n  };\n\n  Proposal.fromData = function (data) {\n    var proposal_id = data.proposal_id,\n        content = data.content,\n        status = data.status,\n        final_tally_result = data.final_tally_result,\n        submit_time = data.submit_time,\n        deposit_end_time = data.deposit_end_time,\n        total_deposit = data.total_deposit,\n        voting_start_time = data.voting_start_time,\n        voting_end_time = data.voting_end_time;\n    return new Proposal(Number.parseInt(proposal_id), Proposal.Content.fromData(content), (0, gov_1.proposalStatusFromJSON)(status), {\n      yes: new numeric_1.Int((final_tally_result === null || final_tally_result === void 0 ? void 0 : final_tally_result.yes) || 0),\n      no: new numeric_1.Int((final_tally_result === null || final_tally_result === void 0 ? void 0 : final_tally_result.no) || 0),\n      abstain: new numeric_1.Int((final_tally_result === null || final_tally_result === void 0 ? void 0 : final_tally_result.abstain) || 0),\n      no_with_veto: new numeric_1.Int((final_tally_result === null || final_tally_result === void 0 ? void 0 : final_tally_result.no_with_veto) || 0)\n    }, new Date(submit_time), new Date(deposit_end_time), Coins_1.Coins.fromData(total_deposit), new Date(voting_start_time), new Date(voting_end_time));\n  };\n\n  Proposal.prototype.toData = function () {\n    var _a = this,\n        status = _a.status,\n        final_tally_result = _a.final_tally_result;\n\n    return {\n      proposal_id: this.id.toFixed(),\n      content: this.content.toData(),\n      status: (0, gov_1.proposalStatusToJSON)(status),\n      final_tally_result: {\n        yes: final_tally_result.yes.toString(),\n        no: final_tally_result.no.toString(),\n        abstain: final_tally_result.abstain.toString(),\n        no_with_veto: final_tally_result.no_with_veto.toString()\n      },\n      submit_time: this.submit_time.toISOString(),\n      deposit_end_time: this.deposit_end_time.toISOString(),\n      total_deposit: this.total_deposit.toData(),\n      voting_start_time: this.voting_start_time.toISOString(),\n      voting_end_time: this.voting_end_time.toISOString()\n    };\n  };\n\n  Proposal.fromProto = function (data) {\n    var id = data.proposalId;\n    var content = data.content;\n    var status = data.status;\n    var final_tally_result = data.finalTallyResult;\n    var submit_time = data.submitTime;\n    var deposit_end_time = data.depositEndTime;\n    var total_deposit = data.totalDeposit;\n    var voting_start_time = data.votingStartTime;\n    var voting_end_time = data.votingEndTime;\n    return new Proposal(id.toNumber(), Proposal.Content.fromProto(content), status, {\n      yes: new numeric_1.Int((final_tally_result === null || final_tally_result === void 0 ? void 0 : final_tally_result.yes) || 0),\n      no: new numeric_1.Int((final_tally_result === null || final_tally_result === void 0 ? void 0 : final_tally_result.no) || 0),\n      abstain: new numeric_1.Int((final_tally_result === null || final_tally_result === void 0 ? void 0 : final_tally_result.abstain) || 0),\n      no_with_veto: new numeric_1.Int((final_tally_result === null || final_tally_result === void 0 ? void 0 : final_tally_result.noWithVeto) || 0)\n    }, submit_time, deposit_end_time, Coins_1.Coins.fromProto(total_deposit), voting_start_time, voting_end_time);\n  };\n\n  Proposal.prototype.toProto = function () {\n    var _a = this,\n        status = _a.status,\n        final_tally_result = _a.final_tally_result;\n\n    var ftr;\n\n    if (final_tally_result) {\n      ftr = gov_1.TallyResult.fromPartial({\n        yes: final_tally_result.yes.toString(),\n        no: final_tally_result.no.toString(),\n        abstain: final_tally_result.abstain.toString(),\n        noWithVeto: final_tally_result.no_with_veto.toString()\n      });\n    }\n\n    return gov_1.Proposal.fromPartial({\n      proposalId: Long.fromNumber(this.id),\n      content: this.content.packAny(),\n      status: status,\n      finalTallyResult: ftr,\n      submitTime: this.submit_time,\n      depositEndTime: this.deposit_end_time,\n      totalDeposit: this.total_deposit.toProto(),\n      votingEndTime: this.voting_end_time,\n      votingStartTime: this.voting_start_time\n    });\n  };\n\n  return Proposal;\n}(json_1.JSONSerializable);\n\nexports.Proposal = Proposal;\n\n(function (Proposal) {\n  Proposal.Status = gov_1.ProposalStatus;\n  var Content;\n\n  (function (Content) {\n    function fromAmino(amino) {\n      switch (amino.type) {\n        case 'gov/TextProposal':\n          return proposals_3.TextProposal.fromAmino(amino);\n\n        case 'distribution/CommunityPoolSpendProposal':\n          return proposals_1.CommunityPoolSpendProposal.fromAmino(amino);\n\n        case 'params/ParameterChangeProposal':\n          return proposals_2.ParameterChangeProposal.fromAmino(amino);\n\n        case 'upgrade/SoftwareUpgradeProposal':\n          return proposals_4.SoftwareUpgradeProposal.fromAmino(amino);\n\n        case 'upgrade/CancelSoftwareUpgradeProposal':\n          return proposals_4.CancelSoftwareUpgradeProposal.fromAmino(amino);\n      }\n    }\n\n    Content.fromAmino = fromAmino;\n\n    function fromData(data) {\n      switch (data['@type']) {\n        case '/cosmos.gov.v1beta1.TextProposal':\n          return proposals_3.TextProposal.fromData(data);\n\n        case '/cosmos.distribution.v1beta1.CommunityPoolSpendProposal':\n          return proposals_1.CommunityPoolSpendProposal.fromData(data);\n\n        case '/cosmos.params.v1beta1.ParameterChangeProposal':\n          return proposals_2.ParameterChangeProposal.fromData(data);\n\n        case '/cosmos.upgrade.v1beta1.SoftwareUpgradeProposal':\n          return proposals_4.SoftwareUpgradeProposal.fromData(data);\n\n        case '/cosmos.upgrade.v1beta1.CancelSoftwareUpgradeProposal':\n          return proposals_4.CancelSoftwareUpgradeProposal.fromData(data);\n      }\n    }\n\n    Content.fromData = fromData;\n\n    function fromProto(anyProto) {\n      var typeUrl = anyProto.typeUrl;\n\n      switch (typeUrl) {\n        case '/cosmos.gov.v1beta1.TextProposal':\n          return proposals_3.TextProposal.unpackAny(anyProto);\n\n        case '/cosmos.distribution.v1beta1.CommunityPoolSpendProposal':\n          return proposals_1.CommunityPoolSpendProposal.unpackAny(anyProto);\n\n        case '/cosmos.params.v1beta1.ParameterChangeProposal':\n          return proposals_2.ParameterChangeProposal.unpackAny(anyProto);\n\n        case '/cosmos.upgrade.v1beta1.SoftwareUpgradeProposal':\n          return proposals_4.SoftwareUpgradeProposal.unpackAny(anyProto);\n\n        case '/cosmos.upgrade.v1beta1.CancelSoftwareUpgradeProposal':\n          return proposals_4.CancelSoftwareUpgradeProposal.unpackAny(anyProto);\n      }\n\n      throw \"Proposal content \" + typeUrl + \" not recognized\";\n    }\n\n    Content.fromProto = fromProto;\n  })(Content = Proposal.Content || (Proposal.Content = {}));\n})(Proposal = exports.Proposal || (exports.Proposal = {}));\n\nexports.Proposal = Proposal;","map":{"version":3,"sources":["../../../src/core/gov/Proposal.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Proposal = void 0;\nvar Coins_1 = require(\"../Coins\");\nvar numeric_1 = require(\"../numeric\");\nvar json_1 = require(\"../../util/json\");\nvar proposals_1 = require(\"../distribution/proposals\");\nvar proposals_2 = require(\"../params/proposals\");\nvar proposals_3 = require(\"./proposals\");\nvar proposals_4 = require(\"../upgrade/proposals\");\nvar gov_1 = require(\"@terra-money/terra.proto/cosmos/gov/v1beta1/gov\");\nvar Long = __importStar(require(\"long\"));\n/**\n * Stores information pertaining to a submitted proposal, such as its status and time of\n * the voting period\n */\nvar Proposal = /** @class */ (function (_super) {\n    __extends(Proposal, _super);\n    /**\n     *\n     * @param id proposal's ID\n     * @param content content of the proposal\n     * @param status proposal's status\n     * @param final_tally_result tally result\n     * @param submit_time time proposal was submitted and deposit period started\n     * @param deposit_end_time time deposit period will end\n     * @param total_deposit amount of coins deposited by all users\n     * @param voting_start_time time voting period will start\n     * @param voting_end_time time voting period will end\n     */\n    function Proposal(id, content, status, final_tally_result, submit_time, deposit_end_time, total_deposit, voting_start_time, voting_end_time) {\n        var _this = _super.call(this) || this;\n        _this.id = id;\n        _this.content = content;\n        _this.status = status;\n        _this.final_tally_result = final_tally_result;\n        _this.submit_time = submit_time;\n        _this.deposit_end_time = deposit_end_time;\n        _this.total_deposit = total_deposit;\n        _this.voting_start_time = voting_start_time;\n        _this.voting_end_time = voting_end_time;\n        return _this;\n    }\n    Proposal.fromAmino = function (data) {\n        var id = data.id, content = data.content, status = data.status, final_tally_result = data.final_tally_result, submit_time = data.submit_time, deposit_end_time = data.deposit_end_time, total_deposit = data.total_deposit, voting_start_time = data.voting_start_time, voting_end_time = data.voting_end_time;\n        return new Proposal(Number.parseInt(id), Proposal.Content.fromAmino(content), status, {\n            yes: new numeric_1.Int(final_tally_result.yes || 0),\n            no: new numeric_1.Int(final_tally_result.no || 0),\n            abstain: new numeric_1.Int(final_tally_result.abstain || 0),\n            no_with_veto: new numeric_1.Int(final_tally_result.no_with_veto || 0),\n        }, new Date(submit_time), new Date(deposit_end_time), Coins_1.Coins.fromAmino(total_deposit), new Date(voting_start_time), new Date(voting_end_time));\n    };\n    Proposal.prototype.toAmino = function () {\n        var _a = this, status = _a.status, final_tally_result = _a.final_tally_result;\n        return {\n            id: this.id.toFixed(),\n            content: this.content.toAmino(),\n            status: status,\n            final_tally_result: {\n                yes: final_tally_result.yes.toFixed(),\n                no: final_tally_result.no.toFixed(),\n                abstain: final_tally_result.abstain.toFixed(),\n                no_with_veto: final_tally_result.no_with_veto.toFixed(),\n            },\n            submit_time: this.submit_time.toISOString(),\n            deposit_end_time: this.deposit_end_time.toISOString(),\n            total_deposit: this.total_deposit.toAmino(),\n            voting_start_time: this.voting_start_time.toISOString(),\n            voting_end_time: this.voting_end_time.toISOString(),\n        };\n    };\n    Proposal.fromData = function (data) {\n        var proposal_id = data.proposal_id, content = data.content, status = data.status, final_tally_result = data.final_tally_result, submit_time = data.submit_time, deposit_end_time = data.deposit_end_time, total_deposit = data.total_deposit, voting_start_time = data.voting_start_time, voting_end_time = data.voting_end_time;\n        return new Proposal(Number.parseInt(proposal_id), Proposal.Content.fromData(content), (0, gov_1.proposalStatusFromJSON)(status), {\n            yes: new numeric_1.Int((final_tally_result === null || final_tally_result === void 0 ? void 0 : final_tally_result.yes) || 0),\n            no: new numeric_1.Int((final_tally_result === null || final_tally_result === void 0 ? void 0 : final_tally_result.no) || 0),\n            abstain: new numeric_1.Int((final_tally_result === null || final_tally_result === void 0 ? void 0 : final_tally_result.abstain) || 0),\n            no_with_veto: new numeric_1.Int((final_tally_result === null || final_tally_result === void 0 ? void 0 : final_tally_result.no_with_veto) || 0),\n        }, new Date(submit_time), new Date(deposit_end_time), Coins_1.Coins.fromData(total_deposit), new Date(voting_start_time), new Date(voting_end_time));\n    };\n    Proposal.prototype.toData = function () {\n        var _a = this, status = _a.status, final_tally_result = _a.final_tally_result;\n        return {\n            proposal_id: this.id.toFixed(),\n            content: this.content.toData(),\n            status: (0, gov_1.proposalStatusToJSON)(status),\n            final_tally_result: {\n                yes: final_tally_result.yes.toString(),\n                no: final_tally_result.no.toString(),\n                abstain: final_tally_result.abstain.toString(),\n                no_with_veto: final_tally_result.no_with_veto.toString(),\n            },\n            submit_time: this.submit_time.toISOString(),\n            deposit_end_time: this.deposit_end_time.toISOString(),\n            total_deposit: this.total_deposit.toData(),\n            voting_start_time: this.voting_start_time.toISOString(),\n            voting_end_time: this.voting_end_time.toISOString(),\n        };\n    };\n    Proposal.fromProto = function (data) {\n        var id = data.proposalId;\n        var content = data.content;\n        var status = data.status;\n        var final_tally_result = data.finalTallyResult;\n        var submit_time = data.submitTime;\n        var deposit_end_time = data.depositEndTime;\n        var total_deposit = data.totalDeposit;\n        var voting_start_time = data.votingStartTime;\n        var voting_end_time = data.votingEndTime;\n        return new Proposal(id.toNumber(), Proposal.Content.fromProto(content), status, {\n            yes: new numeric_1.Int((final_tally_result === null || final_tally_result === void 0 ? void 0 : final_tally_result.yes) || 0),\n            no: new numeric_1.Int((final_tally_result === null || final_tally_result === void 0 ? void 0 : final_tally_result.no) || 0),\n            abstain: new numeric_1.Int((final_tally_result === null || final_tally_result === void 0 ? void 0 : final_tally_result.abstain) || 0),\n            no_with_veto: new numeric_1.Int((final_tally_result === null || final_tally_result === void 0 ? void 0 : final_tally_result.noWithVeto) || 0),\n        }, submit_time, deposit_end_time, Coins_1.Coins.fromProto(total_deposit), voting_start_time, voting_end_time);\n    };\n    Proposal.prototype.toProto = function () {\n        var _a = this, status = _a.status, final_tally_result = _a.final_tally_result;\n        var ftr;\n        if (final_tally_result) {\n            ftr = gov_1.TallyResult.fromPartial({\n                yes: final_tally_result.yes.toString(),\n                no: final_tally_result.no.toString(),\n                abstain: final_tally_result.abstain.toString(),\n                noWithVeto: final_tally_result.no_with_veto.toString(),\n            });\n        }\n        return gov_1.Proposal.fromPartial({\n            proposalId: Long.fromNumber(this.id),\n            content: this.content.packAny(),\n            status: status,\n            finalTallyResult: ftr,\n            submitTime: this.submit_time,\n            depositEndTime: this.deposit_end_time,\n            totalDeposit: this.total_deposit.toProto(),\n            votingEndTime: this.voting_end_time,\n            votingStartTime: this.voting_start_time,\n        });\n    };\n    return Proposal;\n}(json_1.JSONSerializable));\nexports.Proposal = Proposal;\n(function (Proposal) {\n    Proposal.Status = gov_1.ProposalStatus;\n    var Content;\n    (function (Content) {\n        function fromAmino(amino) {\n            switch (amino.type) {\n                case 'gov/TextProposal':\n                    return proposals_3.TextProposal.fromAmino(amino);\n                case 'distribution/CommunityPoolSpendProposal':\n                    return proposals_1.CommunityPoolSpendProposal.fromAmino(amino);\n                case 'params/ParameterChangeProposal':\n                    return proposals_2.ParameterChangeProposal.fromAmino(amino);\n                case 'upgrade/SoftwareUpgradeProposal':\n                    return proposals_4.SoftwareUpgradeProposal.fromAmino(amino);\n                case 'upgrade/CancelSoftwareUpgradeProposal':\n                    return proposals_4.CancelSoftwareUpgradeProposal.fromAmino(amino);\n            }\n        }\n        Content.fromAmino = fromAmino;\n        function fromData(data) {\n            switch (data['@type']) {\n                case '/cosmos.gov.v1beta1.TextProposal':\n                    return proposals_3.TextProposal.fromData(data);\n                case '/cosmos.distribution.v1beta1.CommunityPoolSpendProposal':\n                    return proposals_1.CommunityPoolSpendProposal.fromData(data);\n                case '/cosmos.params.v1beta1.ParameterChangeProposal':\n                    return proposals_2.ParameterChangeProposal.fromData(data);\n                case '/cosmos.upgrade.v1beta1.SoftwareUpgradeProposal':\n                    return proposals_4.SoftwareUpgradeProposal.fromData(data);\n                case '/cosmos.upgrade.v1beta1.CancelSoftwareUpgradeProposal':\n                    return proposals_4.CancelSoftwareUpgradeProposal.fromData(data);\n            }\n        }\n        Content.fromData = fromData;\n        function fromProto(anyProto) {\n            var typeUrl = anyProto.typeUrl;\n            switch (typeUrl) {\n                case '/cosmos.gov.v1beta1.TextProposal':\n                    return proposals_3.TextProposal.unpackAny(anyProto);\n                case '/cosmos.distribution.v1beta1.CommunityPoolSpendProposal':\n                    return proposals_1.CommunityPoolSpendProposal.unpackAny(anyProto);\n                case '/cosmos.params.v1beta1.ParameterChangeProposal':\n                    return proposals_2.ParameterChangeProposal.unpackAny(anyProto);\n                case '/cosmos.upgrade.v1beta1.SoftwareUpgradeProposal':\n                    return proposals_4.SoftwareUpgradeProposal.unpackAny(anyProto);\n                case '/cosmos.upgrade.v1beta1.CancelSoftwareUpgradeProposal':\n                    return proposals_4.CancelSoftwareUpgradeProposal.unpackAny(anyProto);\n            }\n            throw \"Proposal content \" + typeUrl + \" not recognized\";\n        }\n        Content.fromProto = fromProto;\n    })(Content = Proposal.Content || (Proposal.Content = {}));\n})(Proposal = exports.Proposal || (exports.Proposal = {}));\nexports.Proposal = Proposal;\n//# sourceMappingURL=Proposal.js.map"]},"metadata":{},"sourceType":"script"}