{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.removeNull = exports.JSONSerializable = exports.prepareSignBytes = void 0;\n\nfunction prepareSignBytes(obj) {\n  if (Array.isArray(obj)) {\n    return obj.map(prepareSignBytes);\n  } // string, number, or null\n\n\n  if (typeof obj !== \"object\" || obj === null) {\n    return obj;\n  }\n\n  var sorted = {};\n  Object.keys(obj).sort().forEach(function (key) {\n    if (obj[key] === undefined || obj[key] === null) return;\n    sorted[key] = prepareSignBytes(obj[key]);\n  });\n  return sorted;\n}\n\nexports.prepareSignBytes = prepareSignBytes;\n\nvar JSONSerializable =\n/** @class */\nfunction () {\n  function JSONSerializable() {}\n\n  JSONSerializable.prototype.toJSON = function () {\n    return JSON.stringify(prepareSignBytes(this.toData()));\n  };\n\n  JSONSerializable.prototype.toAminoJSON = function () {\n    return JSON.stringify(prepareSignBytes(this.toAmino()));\n  };\n\n  return JSONSerializable;\n}();\n\nexports.JSONSerializable = JSONSerializable;\n\nfunction removeNull(obj) {\n  if (obj !== null && typeof obj === 'object') {\n    return Object.entries(obj).filter(function (_a) {\n      var v = _a[1];\n      return v != null;\n    }).reduce(function (acc, _a) {\n      var _b;\n\n      var k = _a[0],\n          v = _a[1];\n      return __assign(__assign({}, acc), (_b = {}, _b[k] = v === Object(v) && !Array.isArray(v) ? removeNull(v) : v, _b));\n    }, {});\n  }\n\n  return obj;\n}\n\nexports.removeNull = removeNull;","map":{"version":3,"sources":["../../src/util/json.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA,SAAgB,gBAAhB,CAAiC,GAAjC,EAAyC;AACvC,MAAI,KAAK,CAAC,OAAN,CAAc,GAAd,CAAJ,EAAwB;AACtB,WAAO,GAAG,CAAC,GAAJ,CAAQ,gBAAR,CAAP;AACD,GAHsC,CAKvC;;;AACA,MAAI,OAAO,GAAP,KAAe,QAAf,IAA2B,GAAG,KAAK,IAAvC,EAA6C;AAC3C,WAAO,GAAP;AACD;;AAED,MAAM,MAAM,GAAQ,EAApB;AAEA,EAAA,MAAM,CAAC,IAAP,CAAY,GAAZ,EACG,IADH,GAEG,OAFH,CAEW,UAAA,GAAA,EAAG;AACV,QAAI,GAAG,CAAC,GAAD,CAAH,KAAa,SAAb,IAA0B,GAAG,CAAC,GAAD,CAAH,KAAa,IAA3C,EAAiD;AACjD,IAAA,MAAM,CAAC,GAAD,CAAN,GAAc,gBAAgB,CAAC,GAAG,CAAC,GAAD,CAAJ,CAA9B;AACD,GALH;AAMA,SAAO,MAAP;AACD;;AAnBD,OAAA,CAAA,gBAAA,GAAA,gBAAA;;AAqBA,IAAA,gBAAA;AAAA;AAAA,YAAA;AAAA,WAAA,gBAAA,GAAA,CAUC;;AANQ,EAAA,gBAAA,CAAA,SAAA,CAAA,MAAA,GAAP,YAAA;AACE,WAAO,IAAI,CAAC,SAAL,CAAe,gBAAgB,CAAC,KAAK,MAAL,EAAD,CAA/B,CAAP;AACD,GAFM;;AAGA,EAAA,gBAAA,CAAA,SAAA,CAAA,WAAA,GAAP,YAAA;AACE,WAAO,IAAI,CAAC,SAAL,CAAe,gBAAgB,CAAC,KAAK,OAAL,EAAD,CAA/B,CAAP;AACD,GAFM;;AAGT,SAAA,gBAAA;AAAC,CAVD,EAAA;;AAAsB,OAAA,CAAA,gBAAA,GAAA,gBAAA;;AAYtB,SAAgB,UAAhB,CAA2B,GAA3B,EAAmC;AACjC,MAAI,GAAG,KAAK,IAAR,IAAgB,OAAO,GAAP,KAAe,QAAnC,EAA6C;AAC3C,WAAO,MAAM,CAAC,OAAP,CAAe,GAAf,EACJ,MADI,CACG,UAAC,EAAD,EAAM;UAAF,CAAC,GAAA,EAAA,CAAA,CAAA,C;AAAM,aAAA,CAAC,IAAI,IAAL;AAAS,KADvB,EAEJ,MAFI,CAGH,UAAC,GAAD,EAAM,EAAN,EAAY;;;UAAL,CAAC,GAAA,EAAA,CAAA,CAAA,C;UAAE,CAAC,GAAA,EAAA,CAAA,CAAA,C;AAAM,aAAA,QAAA,CAAA,QAAA,CAAA,EAAA,EACZ,GADY,CAAA,GACT,EAAA,GAAA,EAAA,EAAA,EAAA,CACL,CADK,CAAA,GACD,CAAC,KAAK,MAAM,CAAC,CAAD,CAAZ,IAAmB,CAAC,KAAK,CAAC,OAAN,CAAc,CAAd,CAApB,GAAuC,UAAU,CAAC,CAAD,CAAjD,GAAuD,CADtD,EACuD,EAF9C,EAAA;AAGf,KANC,EAOH,EAPG,CAAP;AASD;;AAED,SAAO,GAAP;AACD;;AAdD,OAAA,CAAA,UAAA,GAAA,UAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.removeNull = exports.JSONSerializable = exports.prepareSignBytes = void 0;\nfunction prepareSignBytes(obj) {\n    if (Array.isArray(obj)) {\n        return obj.map(prepareSignBytes);\n    }\n    // string, number, or null\n    if (typeof obj !== \"object\" || obj === null) {\n        return obj;\n    }\n    var sorted = {};\n    Object.keys(obj)\n        .sort()\n        .forEach(function (key) {\n        if (obj[key] === undefined || obj[key] === null)\n            return;\n        sorted[key] = prepareSignBytes(obj[key]);\n    });\n    return sorted;\n}\nexports.prepareSignBytes = prepareSignBytes;\nvar JSONSerializable = /** @class */ (function () {\n    function JSONSerializable() {\n    }\n    JSONSerializable.prototype.toJSON = function () {\n        return JSON.stringify(prepareSignBytes(this.toData()));\n    };\n    JSONSerializable.prototype.toAminoJSON = function () {\n        return JSON.stringify(prepareSignBytes(this.toAmino()));\n    };\n    return JSONSerializable;\n}());\nexports.JSONSerializable = JSONSerializable;\nfunction removeNull(obj) {\n    if (obj !== null && typeof obj === 'object') {\n        return Object.entries(obj)\n            .filter(function (_a) {\n            var v = _a[1];\n            return v != null;\n        })\n            .reduce(function (acc, _a) {\n            var _b;\n            var k = _a[0], v = _a[1];\n            return (__assign(__assign({}, acc), (_b = {}, _b[k] = v === Object(v) && !Array.isArray(v) ? removeNull(v) : v, _b)));\n        }, {});\n    }\n    return obj;\n}\nexports.removeNull = removeNull;\n//# sourceMappingURL=json.js.map"]},"metadata":{},"sourceType":"script"}