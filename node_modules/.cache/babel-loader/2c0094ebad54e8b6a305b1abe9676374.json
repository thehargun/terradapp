{"ast":null,"code":"const interval = 500;\nexport async function checkExtensionReady(timeout, isChromeExtensionCompatibleBrowser) {\n  return new Promise(resolve => {\n    if (isChromeExtensionCompatibleBrowser) {\n      resolve(true);\n      return;\n    }\n\n    const start = Date.now();\n\n    function check() {\n      if (window.isTerraExtensionAvailable === true || Array.isArray(window.terraWallets)) {\n        resolve(true);\n      } else if (Date.now() > start + timeout) {\n        resolve(false);\n      } else {\n        console.log('checkExtensionReady.ts..check() ???');\n        setTimeout(check, interval);\n      }\n    }\n\n    setTimeout(check, interval);\n  });\n}","map":{"version":3,"sources":["../../../../src/@terra-money/wallet-provider/utils/checkExtensionReady.ts"],"names":[],"mappings":"AAAA,MAAM,QAAQ,GAAG,GAAjB;AAQA,OAAO,eAAe,mBAAf,CACL,OADK,EAEL,kCAFK,EAEsC;AAE3C,SAAO,IAAI,OAAJ,CAAsB,OAAD,IAAY;AACtC,QAAI,kCAAJ,EAAwC;AACtC,MAAA,OAAO,CAAC,IAAD,CAAP;AACA;AACD;;AAED,UAAM,KAAK,GAAG,IAAI,CAAC,GAAL,EAAd;;AAEA,aAAS,KAAT,GAAc;AACZ,UACE,MAAM,CAAC,yBAAP,KAAqC,IAArC,IACA,KAAK,CAAC,OAAN,CAAc,MAAM,CAAC,YAArB,CAFF,EAGE;AACA,QAAA,OAAO,CAAC,IAAD,CAAP;AACD,OALD,MAKO,IAAI,IAAI,CAAC,GAAL,KAAa,KAAK,GAAG,OAAzB,EAAkC;AACvC,QAAA,OAAO,CAAC,KAAD,CAAP;AACD,OAFM,MAEA;AACL,QAAA,OAAO,CAAC,GAAR,CAAY,qCAAZ;AACA,QAAA,UAAU,CAAC,KAAD,EAAQ,QAAR,CAAV;AACD;AACF;;AAED,IAAA,UAAU,CAAC,KAAD,EAAQ,QAAR,CAAV;AACD,GAvBM,CAAP;AAwBD","sourcesContent":["const interval = 500;\n\ndeclare global {\n  interface Window {\n    isTerraExtensionAvailable: boolean;\n  }\n}\n\nexport async function checkExtensionReady(\n  timeout: number,\n  isChromeExtensionCompatibleBrowser: boolean,\n): Promise<boolean> {\n  return new Promise<boolean>((resolve) => {\n    if (isChromeExtensionCompatibleBrowser) {\n      resolve(true);\n      return;\n    }\n\n    const start = Date.now();\n\n    function check() {\n      if (\n        window.isTerraExtensionAvailable === true ||\n        Array.isArray(window.terraWallets)\n      ) {\n        resolve(true);\n      } else if (Date.now() > start + timeout) {\n        resolve(false);\n      } else {\n        console.log('checkExtensionReady.ts..check() ???');\n        setTimeout(check, interval);\n      }\n    }\n\n    setTimeout(check, interval);\n  });\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}