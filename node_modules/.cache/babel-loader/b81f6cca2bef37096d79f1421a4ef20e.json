{"ast":null,"code":"export const storage = typeof window === 'undefined' ? undefined : localStorage;\nconst SESSION_KEY = '__terra_extension_router_session__';\nexport function getStoredSession() {\n  const data = storage === null || storage === void 0 ? void 0 : storage.getItem(SESSION_KEY);\n\n  if (!data) {\n    return undefined;\n  }\n\n  try {\n    const object = JSON.parse(data);\n\n    if ('identifier' in object) {\n      return {\n        identifier: object['identifier']\n      };\n    } else {\n      storage === null || storage === void 0 ? void 0 : storage.removeItem(SESSION_KEY);\n      return undefined;\n    }\n  } catch (_a) {\n    storage === null || storage === void 0 ? void 0 : storage.removeItem(SESSION_KEY);\n    return undefined;\n  }\n}\nexport function storeSession(session) {\n  storage === null || storage === void 0 ? void 0 : storage.setItem(SESSION_KEY, JSON.stringify(session));\n}\nexport function clearSession() {\n  storage === null || storage === void 0 ? void 0 : storage.removeItem(SESSION_KEY);\n}","map":{"version":3,"sources":["../../../../../src/@terra-money/wallet-provider/modules/extension-router/session.ts"],"names":[],"mappings":"AAAA,OAAO,MAAM,OAAO,GAAG,OAAO,MAAP,KAAkB,WAAlB,GAAgC,SAAhC,GAA4C,YAA5D;AAMP,MAAM,WAAW,GAAG,oCAApB;AAEA,OAAM,SAAU,gBAAV,GAA0B;AAC9B,QAAM,IAAI,GAAG,OAAO,KAAA,IAAP,IAAA,OAAO,KAAA,KAAA,CAAP,GAAO,KAAA,CAAP,GAAA,OAAO,CAAE,OAAT,CAAiB,WAAjB,CAAb;;AAEA,MAAI,CAAC,IAAL,EAAW;AACT,WAAO,SAAP;AACD;;AAED,MAAI;AACF,UAAM,MAAM,GAAG,IAAI,CAAC,KAAL,CAAW,IAAX,CAAf;;AAEA,QAAI,gBAAgB,MAApB,EAA4B;AAC1B,aAAO;AACL,QAAA,UAAU,EAAE,MAAM,CAAC,YAAD;AADb,OAAP;AAGD,KAJD,MAIO;AACL,MAAA,OAAO,KAAA,IAAP,IAAA,OAAO,KAAA,KAAA,CAAP,GAAO,KAAA,CAAP,GAAA,OAAO,CAAE,UAAT,CAAoB,WAApB,CAAA;AACA,aAAO,SAAP;AACD;AACF,GAXD,CAWE,OAAA,EAAA,EAAM;AACN,IAAA,OAAO,KAAA,IAAP,IAAA,OAAO,KAAA,KAAA,CAAP,GAAO,KAAA,CAAP,GAAA,OAAO,CAAE,UAAT,CAAoB,WAApB,CAAA;AACA,WAAO,SAAP;AACD;AACF;AAED,OAAM,SAAU,YAAV,CAAuB,OAAvB,EAAuC;AAC3C,EAAA,OAAO,KAAA,IAAP,IAAA,OAAO,KAAA,KAAA,CAAP,GAAO,KAAA,CAAP,GAAA,OAAO,CAAE,OAAT,CAAiB,WAAjB,EAA8B,IAAI,CAAC,SAAL,CAAe,OAAf,CAA9B,CAAA;AACD;AAED,OAAM,SAAU,YAAV,GAAsB;AAC1B,EAAA,OAAO,KAAA,IAAP,IAAA,OAAO,KAAA,KAAA,CAAP,GAAO,KAAA,CAAP,GAAA,OAAO,CAAE,UAAT,CAAoB,WAApB,CAAA;AACD","sourcesContent":["export const storage = typeof window === 'undefined' ? undefined : localStorage;\n\ninterface Session {\n  identifier: string;\n}\n\nconst SESSION_KEY = '__terra_extension_router_session__';\n\nexport function getStoredSession(): Session | undefined {\n  const data = storage?.getItem(SESSION_KEY);\n\n  if (!data) {\n    return undefined;\n  }\n\n  try {\n    const object = JSON.parse(data);\n\n    if ('identifier' in object) {\n      return {\n        identifier: object['identifier'],\n      };\n    } else {\n      storage?.removeItem(SESSION_KEY);\n      return undefined;\n    }\n  } catch {\n    storage?.removeItem(SESSION_KEY);\n    return undefined;\n  }\n}\n\nexport function storeSession(session: Session) {\n  storage?.setItem(SESSION_KEY, JSON.stringify(session));\n}\n\nexport function clearSession() {\n  storage?.removeItem(SESSION_KEY);\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}