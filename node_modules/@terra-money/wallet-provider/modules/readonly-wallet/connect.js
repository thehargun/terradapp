import { clearStoredSession, getStoredSession, storeSession } from './storage';
export function connectIfSessionExists() {
    const storedSession = getStoredSession();
    if (!!storedSession) {
        return connect(storedSession);
    }
    return null;
}
export function connect(options) {
    storeSession(options);
    function disconnect() {
        clearStoredSession();
    }
    return {
        ...options,
        disconnect,
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29ubmVjdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9AdGVycmEtbW9uZXkvd2FsbGV0LXByb3ZpZGVyL21vZHVsZXMvcmVhZG9ubHktd2FsbGV0L2Nvbm5lY3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGtCQUFrQixFQUFFLGdCQUFnQixFQUFFLFlBQVksRUFBRSxNQUFNLFdBQVcsQ0FBQztBQVMvRSxNQUFNLFVBQVUsc0JBQXNCO0lBQ3BDLE1BQU0sYUFBYSxHQUFHLGdCQUFnQixFQUFFLENBQUM7SUFFekMsSUFBSSxDQUFDLENBQUMsYUFBYSxFQUFFO1FBQ25CLE9BQU8sT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0tBQy9CO0lBRUQsT0FBTyxJQUFJLENBQUM7QUFDZCxDQUFDO0FBRUQsTUFBTSxVQUFVLE9BQU8sQ0FDckIsT0FBOEI7SUFFOUIsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBRXRCLFNBQVMsVUFBVTtRQUNqQixrQkFBa0IsRUFBRSxDQUFDO0lBQ3ZCLENBQUM7SUFFRCxPQUFPO1FBQ0wsR0FBRyxPQUFPO1FBQ1YsVUFBVTtLQUNYLENBQUM7QUFDSixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY2xlYXJTdG9yZWRTZXNzaW9uLCBnZXRTdG9yZWRTZXNzaW9uLCBzdG9yZVNlc3Npb24gfSBmcm9tICcuL3N0b3JhZ2UnO1xuaW1wb3J0IHsgUmVhZG9ubHlXYWxsZXRTZXNzaW9uIH0gZnJvbSAnLi90eXBlcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVhZG9ubHlXYWxsZXRDb250cm9sbGVyIGV4dGVuZHMgUmVhZG9ubHlXYWxsZXRTZXNzaW9uIHtcbiAgZGlzY29ubmVjdDogKCkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZWFkb25seVdhbGxldE9wdGlvbnMgZXh0ZW5kcyBSZWFkb25seVdhbGxldFNlc3Npb24ge31cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbm5lY3RJZlNlc3Npb25FeGlzdHMoKTogUmVhZG9ubHlXYWxsZXRDb250cm9sbGVyIHwgbnVsbCB7XG4gIGNvbnN0IHN0b3JlZFNlc3Npb24gPSBnZXRTdG9yZWRTZXNzaW9uKCk7XG5cbiAgaWYgKCEhc3RvcmVkU2Vzc2lvbikge1xuICAgIHJldHVybiBjb25uZWN0KHN0b3JlZFNlc3Npb24pO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb25uZWN0KFxuICBvcHRpb25zOiBSZWFkb25seVdhbGxldE9wdGlvbnMsXG4pOiBSZWFkb25seVdhbGxldENvbnRyb2xsZXIge1xuICBzdG9yZVNlc3Npb24ob3B0aW9ucyk7XG5cbiAgZnVuY3Rpb24gZGlzY29ubmVjdCgpIHtcbiAgICBjbGVhclN0b3JlZFNlc3Npb24oKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgLi4ub3B0aW9ucyxcbiAgICBkaXNjb25uZWN0LFxuICB9O1xufVxuIl19