"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.WalletProvider = void 0;
const jsx_runtime_1 = require("react/jsx-runtime");
const use_wallet_1 = require("@terra-money/use-wallet");
const react_1 = require("react");
const controller_1 = require("../controller");
const EMPTY_ARRAY = [];
const EMPTY_SUPPORT_FEATURES = new Set();
function WalletProvider({ children, defaultNetwork, walletConnectChainIds, connectorOpts, pushServerOpts, createReadonlyWalletSession, selectExtension, waitingChromeExtensionInstallCheck, dangerously__chromeExtensionCompatibleBrowserCheck, }) {
    const [controller] = (0, react_1.useState)(() => new controller_1.WalletController({
        defaultNetwork,
        walletConnectChainIds,
        connectorOpts,
        pushServerOpts,
        createReadonlyWalletSession,
        selectExtension,
        waitingChromeExtensionInstallCheck,
        dangerously__chromeExtensionCompatibleBrowserCheck,
    }));
    const [availableConnectTypes, setAvailableConnectTypes] = (0, react_1.useState)(() => []);
    const [availableInstallTypes, setAvailableInstallTypes] = (0, react_1.useState)(() => []);
    const [availableConnections, setAvailableConnections] = (0, react_1.useState)(() => []);
    const [states, setStates] = (0, react_1.useState)(() => ({
        status: use_wallet_1.WalletStatus.INITIALIZING,
        network: defaultNetwork,
    }));
    (0, react_1.useEffect)(() => {
        const availableConnectTypesSubscription = controller
            .availableConnectTypes()
            .subscribe({
            next: (value) => {
                setAvailableConnectTypes(value);
            },
        });
        const availableInstallTypesSubscription = controller
            .availableInstallTypes()
            .subscribe({
            next: (value) => {
                setAvailableInstallTypes(value);
            },
        });
        const availableConnectionsSubscription = controller
            .availableConnections()
            .subscribe({
            next: (value) => {
                setAvailableConnections(value);
            },
        });
        const statesSubscription = controller.states().subscribe({
            next: (value) => {
                setStates(value);
            },
        });
        return () => {
            availableConnectTypesSubscription.unsubscribe();
            availableInstallTypesSubscription.unsubscribe();
            availableConnectionsSubscription.unsubscribe();
            statesSubscription.unsubscribe();
        };
    }, [controller]);
    const state = (0, react_1.useMemo)(() => {
        return {
            availableConnectTypes,
            availableInstallTypes,
            availableConnections,
            status: states.status,
            network: states.network,
            wallets: states.status === use_wallet_1.WalletStatus.WALLET_CONNECTED
                ? states.wallets
                : EMPTY_ARRAY,
            install: controller.install,
            connect: controller.connect,
            connectReadonly: controller.connectReadonly,
            disconnect: controller.disconnect,
            supportFeatures: states.status === use_wallet_1.WalletStatus.WALLET_CONNECTED
                ? states.supportFeatures
                : EMPTY_SUPPORT_FEATURES,
            post: controller.post,
            sign: controller.sign,
            signBytes: controller.signBytes,
            hasCW20Tokens: controller.hasCW20Tokens,
            addCW20Tokens: controller.addCW20Tokens,
            hasNetwork: controller.hasNetwork,
            addNetwork: controller.addNetwork,
            refetchStates: controller.refetchStates,
            recheckStatus: controller.refetchStates,
            isChromeExtensionCompatibleBrowser: controller.isChromeExtensionCompatibleBrowser,
        };
    }, [
        availableConnectTypes,
        availableInstallTypes,
        availableConnections,
        controller,
        states,
    ]);
    return ((0, jsx_runtime_1.jsx)(use_wallet_1.WalletContext.Provider, Object.assign({ value: state }, { children: children }), void 0));
}
exports.WalletProvider = WalletProvider;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiV2FsbGV0UHJvdmlkZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvQHRlcnJhLW1vbmV5L3dhbGxldC1wcm92aWRlci9pbXBsLXJlYWN0L1dhbGxldFByb3ZpZGVyLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQ0Esd0RBUWlDO0FBQ2pDLGlDQUF1RTtBQUN2RSw4Q0FBMEU7QUFNMUUsTUFBTSxXQUFXLEdBQWlCLEVBQUUsQ0FBQztBQUNyQyxNQUFNLHNCQUFzQixHQUFHLElBQUksR0FBRyxFQUE2QixDQUFDO0FBRXBFLFNBQWdCLGNBQWMsQ0FBQyxFQUM3QixRQUFRLEVBQ1IsY0FBYyxFQUNkLHFCQUFxQixFQUNyQixhQUFhLEVBQ2IsY0FBYyxFQUNkLDJCQUEyQixFQUMzQixlQUFlLEVBQ2Ysa0NBQWtDLEVBQ2xDLGtEQUFrRCxHQUM5QjtJQUNwQixNQUFNLENBQUMsVUFBVSxDQUFDLEdBQUcsSUFBQSxnQkFBUSxFQUMzQixHQUFHLEVBQUUsQ0FDSCxJQUFJLDZCQUFnQixDQUFDO1FBQ25CLGNBQWM7UUFDZCxxQkFBcUI7UUFDckIsYUFBYTtRQUNiLGNBQWM7UUFDZCwyQkFBMkI7UUFDM0IsZUFBZTtRQUNmLGtDQUFrQztRQUNsQyxrREFBa0Q7S0FDbkQsQ0FBQyxDQUNMLENBQUM7SUFFRixNQUFNLENBQUMscUJBQXFCLEVBQUUsd0JBQXdCLENBQUMsR0FBRyxJQUFBLGdCQUFRLEVBRWhFLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBRVosTUFBTSxDQUFDLHFCQUFxQixFQUFFLHdCQUF3QixDQUFDLEdBQUcsSUFBQSxnQkFBUSxFQUVoRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUVaLE1BQU0sQ0FBQyxvQkFBb0IsRUFBRSx1QkFBdUIsQ0FBQyxHQUFHLElBQUEsZ0JBQVEsRUFFOUQsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7SUFFWixNQUFNLENBQUMs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QztTQUNoRCxDQUFDO0lBQ0osQ0FBQyxFQUFFO1FBQ0QscUJBQXFCO1FBQ3JCLHFCQUFxQjtRQUNyQixvQkFBb0I7UUFDcEIsVUFBVTtRQUNWLE1BQU07S0FDUCxDQUFDLENBQUM7SUFFSCxPQUFPLENBQ0wsdUJBQUMsMEJBQWEsQ0FBQyxRQUFRLGtCQUFDLEtBQUssRUFBRSxLQUFLLGdCQUFHLFFBQVEsWUFBMEIsQ0FDMUUsQ0FBQztBQUNKLENBQUM7QUEzSEQsd0NBMkhDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVGVycmFXZWJFeHRlbnNpb25GZWF0dXJlcyB9IGZyb20gJ0B0ZXJyYS1kZXYvd2ViLWV4dGVuc2lvbi1pbnRlcmZhY2UnO1xuaW1wb3J0IHtcbiAgQ29ubmVjdGlvbixcbiAgQ29ubmVjdFR5cGUsXG4gIFdhbGxldCxcbiAgV2FsbGV0Q29udGV4dCxcbiAgV2FsbGV0SW5mbyxcbiAgV2FsbGV0U3RhdGVzLFxuICBXYWxsZXRTdGF0dXMsXG59IGZyb20gJ0B0ZXJyYS1tb25leS91c2Utd2FsbGV0JztcbmltcG9ydCBSZWFjdCwgeyBSZWFjdE5vZGUsIHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBXYWxsZXRDb250cm9sbGVyLCBXYWxsZXRDb250cm9sbGVyT3B0aW9ucyB9IGZyb20gJy4uL2NvbnRyb2xsZXInO1xuXG5leHBvcnQgaW50ZXJmYWNlIFdhbGxldFByb3ZpZGVyUHJvcHMgZXh0ZW5kcyBXYWxsZXRDb250cm9sbGVyT3B0aW9ucyB7XG4gIGNoaWxkcmVuOiBSZWFjdE5vZGU7XG59XG5cbmNvbnN0IEVNUFRZX0FSUkFZOiBXYWxsZXRJbmZvW10gPSBbXTtcbmNvbnN0IEVNUFRZX1NVUFBPUlRfRkVBVFVSRVMgPSBuZXcgU2V0PFRlcnJhV2ViRXh0ZW5zaW9uRmVhdHVyZXM+KCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBXYWxsZXRQcm92aWRlcih7XG4gIGNoaWxkcmVuLFxuICBkZWZhdWx0TmV0d29yayxcbiAgd2FsbGV0Q29ubmVjdENoYWluSWRzLFxuICBjb25uZWN0b3JPcHRzLFxuICBwdXNoU2VydmVyT3B0cyxcbiAgY3JlYXRlUmVhZG9ubHlXYWxsZXRTZXNzaW9uLFxuICBzZWxlY3RFeHRlbnNpb24sXG4gIHdhaXRpbmdDaHJvbWVFeHRlbnNpb25JbnN0YWxsQ2hlY2ssXG4gIGRhbmdlcm91c2x5X19jaHJvbWVFeHRlbnNpb25Db21wYXRpYmxlQnJvd3NlckNoZWNrLFxufTogV2FsbGV0UHJvdmlkZXJQcm9wcykge1xuICBjb25zdCBbY29udHJvbGxlcl0gPSB1c2VTdGF0ZTxXYWxsZXRDb250cm9sbGVyPihcbiAgICAoKSA9PlxuICAgICAgbmV3IFdhbGxldENvbnRyb2xsZXIoe1xuICAgICAgICBkZWZhdWx0TmV0d29yayxcbiAgICAgICAgd2FsbGV0Q29ubmVjdENoYWluSWRzLFxuICAgICAgICBjb25uZWN0b3JPcHRzLFxuICAgICAgICBwdXNoU2VydmVyT3B0cyxcbiAgICAgICAgY3JlYXRlUmVhZG9ubHlXYWxsZXRTZXNzaW9uLFxuICAgICAgICBzZWxlY3RFeHRlbnNpb24sXG4gICAgICAgIHdhaXRpbmdDaHJvbWVFeHRlbnNpb25JbnN0YWxsQ2hlY2ssXG4gICAgICAgIGRhbmdlcm91c2x5X19jaHJvbWVFeHRlbnNpb25Db21wYXRpYmxlQnJvd3NlckNoZWNrLFxuICAgICAgfSksXG4gICk7XG5cbiAgY29uc3QgW2F2YWlsYWJsZUNvbm5lY3RUeXBlcywgc2V0QXZhaWxhYmxlQ29ubmVjdFR5cGVzXSA9IHVzZVN0YXRlPFxuICAgIENvbm5lY3RUeXBlW11cbiAgPigoKSA9PiBbXSk7XG5cbiAgY29uc3QgW2F2YWlsYWJsZUluc3RhbGxUeXBlcywgc2V0QXZhaWxhYmxlSW5zdGFsbFR5cGVzXSA9IHVzZVN0YXRlPFxuICAgIENvbm5lY3RUeXBlW11cbiAgPigoKSA9PiBbXSk7XG5cbiAgY29uc3QgW2F2YWlsYWJsZUNvbm5lY3Rpb25zLCBzZXRBdmFpbGFibGVDb25uZWN0aW9uc10gPSB1c2VTdGF0ZTxcbiAgICBDb25uZWN0aW9uW11cbiAgPigoKSA9PiBbXSk7XG5cbiAgY29uc3QgW3N0YXRlcywgc2V0U3RhdGVzXSA9IHVzZVN0YXRlPFdhbGxldFN0YXRlcz4oKCkgPT4gKHtcbiAgICBzdGF0dXM6IFdhbGxldFN0YXR1cy5JTklUSUFMSVpJTkcsXG4gICAgbmV0d29yazogZGVmYXVsdE5ldHdvcmssXG4gIH0pKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGF2YWlsYWJsZUNvbm5lY3RUeXBlc1N1YnNjcmlwdGlvbiA9IGNvbnRyb2xsZXJcbiAgICAgIC5hdmFpbGFibGVDb25uZWN0VHlwZXMoKVxuICAgICAgLnN1YnNjcmliZSh7XG4gICAgICAgIG5leHQ6ICh2YWx1ZSkgPT4ge1xuICAgICAgICAgIHNldEF2YWlsYWJsZUNvbm5lY3RUeXBlcyh2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgIGNvbnN0IGF2YWlsYWJsZUluc3RhbGxUeXBlc1N1YnNjcmlwdGlvbiA9IGNvbnRyb2xsZXJcbiAgICAgIC5hdmFpbGFibGVJbnN0YWxsVHlwZXMoKVxuICAgICAgLnN1YnNjcmliZSh7XG4gICAgICAgIG5leHQ6ICh2YWx1ZSkgPT4ge1xuICAgICAgICAgIHNldEF2YWlsYWJsZUluc3RhbGxUeXBlcyh2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgIGNvbnN0IGF2YWlsYWJsZUNvbm5lY3Rpb25zU3Vic2NyaXB0aW9uID0gY29udHJvbGxlclxuICAgICAgLmF2YWlsYWJsZUNvbm5lY3Rpb25zKClcbiAgICAgIC5zdWJzY3JpYmUoe1xuICAgICAgICBuZXh0OiAodmFsdWUpID0+IHtcbiAgICAgICAgICBzZXRBdmFpbGFibGVDb25uZWN0aW9ucyh2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgIGNvbnN0IHN0YXRlc1N1YnNjcmlwdGlvbiA9IGNvbnRyb2xsZXIuc3RhdGVzKCkuc3Vic2NyaWJlKHtcbiAgICAgIG5leHQ6ICh2YWx1ZSkgPT4ge1xuICAgICAgICBzZXRTdGF0ZXModmFsdWUpO1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBhdmFpbGFibGVDb25uZWN0VHlwZXNTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgIGF2YWlsYWJsZUluc3RhbGxUeXBlc1N1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgYXZhaWxhYmxlQ29ubmVjdGlvbnNTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgIHN0YXRlc1N1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gIH0sIFtjb250cm9sbGVyXSk7XG5cbiAgY29uc3Qgc3RhdGUgPSB1c2VNZW1vPFdhbGxldD4oKCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBhdmFpbGFibGVDb25uZWN0VHlwZXMsXG4gICAgICBhdmFpbGFibGVJbnN0YWxsVHlwZXMsXG4gICAgICBhdmFpbGFibGVDb25uZWN0aW9ucyxcbiAgICAgIHN0YXR1czogc3RhdGVzLnN0YXR1cyxcbiAgICAgIG5ldHdvcms6IHN0YXRlcy5uZXR3b3JrLFxuICAgICAgd2FsbGV0czpcbiAgICAgICAgc3RhdGVzLnN0YXR1cyA9PT0gV2FsbGV0U3RhdHVzLldBTExFVF9DT05ORUNURURcbiAgICAgICAgICA/IHN0YXRlcy53YWxsZXRzXG4gICAgICAgICAgOiBFTVBUWV9BUlJBWSxcbiAgICAgIGluc3RhbGw6IGNvbnRyb2xsZXIuaW5zdGFsbCxcbiAgICAgIGNvbm5lY3Q6IGNvbnRyb2xsZXIuY29ubmVjdCxcbiAgICAgIGNvbm5lY3RSZWFkb25seTogY29udHJvbGxlci5jb25uZWN0UmVhZG9ubHksXG4gICAgICBkaXNjb25uZWN0OiBjb250cm9sbGVyLmRpc2Nvbm5lY3QsXG4gICAgICBzdXBwb3J0RmVhdHVyZXM6XG4gICAgICAgIHN0YXRlcy5zdGF0dXMgPT09IFdhbGxldFN0YXR1cy5XQUxMRVRfQ09OTkVDVEVEXG4gICAgICAgICAgPyBzdGF0ZXMuc3VwcG9ydEZlYXR1cmVzXG4gICAgICAgICAgOiBFTVBUWV9TVVBQT1JUX0ZFQVRVUkVTLFxuICAgICAgcG9zdDogY29udHJvbGxlci5wb3N0LFxuICAgICAgc2lnbjogY29udHJvbGxlci5zaWduLFxuICAgICAgc2lnbkJ5dGVzOiBjb250cm9sbGVyLnNpZ25CeXRlcyxcbiAgICAgIGhhc0NXMjBUb2tlbnM6IGNvbnRyb2xsZXIuaGFzQ1cyMFRva2VucyxcbiAgICAgIGFkZENXMjBUb2tlbnM6IGNvbnRyb2xsZXIuYWRkQ1cyMFRva2VucyxcbiAgICAgIGhhc05ldHdvcms6IGNvbnRyb2xsZXIuaGFzTmV0d29yayxcbiAgICAgIGFkZE5ldHdvcms6IGNvbnRyb2xsZXIuYWRkTmV0d29yayxcbiAgICAgIHJlZmV0Y2hTdGF0ZXM6IGNvbnRyb2xsZXIucmVmZXRjaFN0YXRlcyxcbiAgICAgIHJlY2hlY2tTdGF0dXM6IGNvbnRyb2xsZXIucmVmZXRjaFN0YXRlcyxcbiAgICAgIGlzQ2hyb21lRXh0ZW5zaW9uQ29tcGF0aWJsZUJyb3dzZXI6XG4gICAgICAgIGNvbnRyb2xsZXIuaXNDaHJvbWVFeHRlbnNpb25Db21wYXRpYmxlQnJvd3NlcixcbiAgICB9O1xuICB9LCBbXG4gICAgYXZhaWxhYmxlQ29ubmVjdFR5cGVzLFxuICAgIGF2YWlsYWJsZUluc3RhbGxUeXBlcyxcbiAgICBhdmFpbGFibGVDb25uZWN0aW9ucyxcbiAgICBjb250cm9sbGVyLFxuICAgIHN0YXRlcyxcbiAgXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8V2FsbGV0Q29udGV4dC5Qcm92aWRlciB2YWx1ZT17c3RhdGV9PntjaGlsZHJlbn08L1dhbGxldENvbnRleHQuUHJvdmlkZXI+XG4gICk7XG59XG4iXX0=