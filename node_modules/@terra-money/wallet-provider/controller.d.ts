/// <reference types="node" />
import { CreateTxOptions } from '@terra-money/terra.js';
import { Connection, ConnectType, NetworkInfo, SignBytesResult, SignResult, TxResult, WalletStates } from '@terra-money/use-wallet';
import { Observable } from 'rxjs';
import { ExtensionInfo } from './modules/extension-router/multiChannel';
import { ReadonlyWalletSession } from './modules/readonly-wallet';
import { WalletConnectControllerOptions } from './modules/walletconnect';
export interface WalletControllerOptions extends WalletConnectControllerOptions {
    /**
     * ⚠️ Don't hardcoding this, use getChain Options()
     *
     * fallback network if controller is not connected
     */
    defaultNetwork: NetworkInfo;
    /**
     * ⚠️ Don't hardcoding this, use getChain Options()
     *
     * for walletconnect
     *
     * The network rules passed by the Terra Station Mobile are 0 is testnet, 1 is mainnet.
     *
     * Always set testnet for 0 and mainnet for 1.
     *
     * @example
     * ```
     * const mainnet: NetworkInfo = {
     *  name: 'mainnet',
     *  chainID: 'columbus-5',
     *  lcd: 'https://lcd.terra.dev',
     * }
     *
     * const testnet: NetworkInfo = {
     *  name: 'testnet',
     *  chainID: 'bombay-12',
     *  lcd: 'https://bombay-lcd.terra.dev',
     * }
     *
     * const walletConnectChainIds: Record<number, NetworkInfo> = {
     *   0: testnet,
     *   1: mainnet,
     * }
     *
     * <WalletProvider walletConnectChainIds={walletConnectChainIds}>
     * ```
     */
    walletConnectChainIds: Record<number, NetworkInfo>;
    /**
     * run at executing the `connect(ConnectType.READONLY)`
     */
    createReadonlyWalletSession?: (networks: NetworkInfo[]) => Promise<ReadonlyWalletSession | null>;
    /**
     * run at executing the `connect(ConnectType.EXTENSION)`
     * if user installed multiple wallets
     */
    selectExtension?: (extensionInfos: ExtensionInfo[]) => Promise<ExtensionInfo | null>;
    /**
     * milliseconds to wait checking chrome extension is installed
     *
     * @default 1000 * 3 miliseconds
     */
    waitingChromeExtensionInstallCheck?: number;
    /**
     * ⚠️ This API is an option for wallet developers. Please don't use dApp developers.
     *
     * @example
     * ```
     * <WalletProvider dangerously__chromeExtensionCompatibleBrowserCheck={(userAgent: string) => {
     *   return /MyWallet\//.test(userAgent);
     * }}>
     * ```
     */
    dangerously__chromeExtensionCompatibleBrowserCheck?: (userAgent: string) => boolean;
}
export declare class WalletController {
    readonly options: WalletControllerOptions;
    private extension;
    private walletConnect;
    private readonlyWallet;
    private _availableConnectTypes;
    private _availableInstallTypes;
    private _states;
    private disableReadonlyWallet;
    private disableExtension;
    private disableWalletConnect;
    private readonly _notConnected;
    private readonly _initializing;
    constructor(options: WalletControllerOptions);
    /** @see Wallet#isChromeExtensionCompatibleBrowser */
    isChromeExtensionCompatibleBrowser: () => boolean;
    /** @see Wallet#availableConnectTypes */
    availableConnectTypes: () => Observable<ConnectType[]>;
    /** @see Wallet#availableConnections */
    availableConnections: () => Observable<Connection[]>;
    /** @see Wallet#availableInstallTypes */
    availableInstallTypes: () => Observable<ConnectType[]>;
    /**
     * @see Wallet#status
     * @see Wallet#network
     * @see Wallet#wallets
     */
    states: () => Observable<WalletStates>;
    /** @see Wallet#recheckStatus */
    refetchStates: () => void;
    /** @see Wallet#install */
    install: (type: ConnectType) => void;
    /** @see Wallet#connect */
    connect: (type: ConnectType, identifier?: string | undefined) => void;
    /** @see Wallet#connectReadonly */
    connectReadonly: (terraAddress: string, network: NetworkInfo) => void;
    /** @see Wallet#disconnect */
    disconnect: () => void;
    /**
     * @see Wallet#post
     * @param tx
     * @param terraAddress only available new extension
     */
    post: (tx: CreateTxOptions, terraAddress?: string | undefined) => Promise<TxResult>;
    /**
     * @see Wallet#sign
     * @param tx
     * @param terraAddress only available new extension
     */
    sign: (tx: CreateTxOptions, terraAddress?: string | undefined) => Promise<SignResult>;
    /**
     * @see Wallet#signBytes
     * @param bytes
     * @param terraAddress only available new extension
     */
    signBytes: (bytes: Buffer, terraAddress?: string | undefined) => Promise<SignBytesResult>;
    /**
     * @see Wallet#hasCW20Tokens
     * @param chainID
     * @param tokenAddrs Token addresses
     */
    hasCW20Tokens: (chainID: string, ...tokenAddrs: string[]) => Promise<{
        [tokenAddr: string]: boolean;
    }>;
    /**
     * @see Wallet#addCW20Tokens
     * @param chainID
     * @param tokenAddrs Token addresses
     */
    addCW20Tokens: (chainID: string, ...tokenAddrs: string[]) => Promise<{
        [tokenAddr: string]: boolean;
    }>;
    /**
     * @see Wallet#hasNetwork
     * @param network
     */
    hasNetwork: (network: Omit<NetworkInfo, 'name'>) => Promise<boolean>;
    /**
     * @see Wallet#hasNetwork
     * @param network
     */
    addNetwork: (network: NetworkInfo) => Promise<boolean>;
    private availableExtensionFeature;
    private updateStates;
    private enableReadonlyWallet;
    private enableExtension;
    private enableWalletConnect;
}
